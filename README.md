## plarin_test

### Перед запуском
Необходимо установить 3 переменные среды любым удобным способом:  
`CLIENT_URI`  
`DB_NAME`  
`COLLECTION_NAME`  

Наиболее простой способ - добавить в корень проекта файл с именем `.env`, который содержит строки:  
```  
CLIENT_URI='mongodb://127.0.0.1:27017/'  
DB_NAME='db_name'  
COLLECTION_NAME='collection_name'
```  
Или задать переменные в командной строке при запуске сервера:  
`CLIENT_URI="mongodb://localhost:27017/" DB_NAME="db_name" COLLECTION_NAME="collection_name" uvicorn main:app --reload`  

### Запуск из консоли
```
pip3 install -r requirements.txt
uvicorn main:app --reload
```

### Запуск из `Docker`:
Предварительно необходимо указать переменные окружения в файл `docker/_env` - он и будет использован для создания файла `.env`.
```
docker build -t plarin_test:tag .
docker run -d --name plarin_test -d plarin_test:tag
```  
При необходимости - указать сопоставление портов `-p 8081:8000`, где `8000` - порт к которому подключается *uvicorn* внутри контейнера, а `8081` - потенциально не занятый порт системы.  
`docker run -d -p 8081:8000 --name plarin_test -d plarin_test:tag`

## TODO
- [x] Добавить фильтр по числовым диапазонам (*Возраст*, *Зарплата*)
- [x] Добавить фильтр по строковым значениям (*Пол*, *Должность*, *Компания*)
- [x] Добавить фильтр по *Дате* устройства на работу (`Позже чем` / `Раньше чем`).
- [ ] Добавить фильтры по спискам значений (*Пол*, *Должность*, *Компания*).
- [ ] Выяснить стандарты в команде: какой из методов `GET` или `POST` используется для получения данных. Во втором случае можно описать тело запроса через класс `SearchModel(BaseModel)`.
- [ ] В коде описан класс обработки подключений к БД. Вместо него в текущей реализации используются **глобальные переменные**. По возможности необходимо упаковать подключение к базе и работу с ней в соответствующий объект.
- [ ] Добавить аутентификацию.

## TUTORIALS
https://github.com/tiangolo/fastapi/issues/50 - Способ передачи списка значений в параметр запроса.  
https://tsmx.net/docker-local-mongodb/ - Подключение Докер-контейнера к локально запущенной MongoDB.
